apiVersion: v1
kind: Pod
metadata:
  name: "data-tranfer-{{ pvc_name }}"
  namespace: "{{ namespace }}"
spec:
  restartPolicy: Never
  containers:
    - name: "data-transfer-{{ pvc_name }}"
      image: "busybox:1.35.0"
      command: ["sh", "-c", "sleep 3600"]
      volumeMounts:
        - mountPath: "{{ dest_directory }}"
          name: pvc-volume
        - mountPath: "{{ src_directory }}"
          name: host-volume
  volumes:
    - name: pvc-volume
      persistentVolumeClaim:
        claimName: "{{ pvc_name }}"
    - name: host-volume
      hostPath:
        path: "{{ src_directory }}"
        type: Directory
